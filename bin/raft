#!/usr/bin/env ruby
require 'net/http'

command = ARGV[0]
*other_args = ARGV[1..-1]


case command
when "crash", "restart"
  server_id = other_args[0]
  Net::HTTP.get_print(
    URI("http://localhost:8080?command=#{command}&serverId=#{server_id}")
  )
when "request"
  server_id = other_args[0]
  value     = other_args[1]
  Net::HTTP.get_print(
    URI("http://localhost:8080?command=#{command}&serverId=#{server_id}&value=#{value}")
  )
end
